{% extends 'base.html' %}

{% block content %}
<div class="row">
  <div class="col s6">
    <h1>Stars</h1>
    {% for star in stars %}
      <a href="{% url 'detail_star' star.id %}">
        <div class="card">
          <div class="card-content">
            <span class="card-title">{{ star.name }}</span>
            <p>Age: {{ star.age }}</p>
            <form action="{% url 'delete_star' star.id %}" method='POST'>
              {% csrf_token %}
              <button type='submit' class='btn'>Delete</button>
            </form>
          </div>
        </div>
      </a>
    {% endfor %}
  </div>

  <div class="col s6">
    <h1>Log a New Star</h1>
    <form action="{% url 'add_star' %}" method="POST" class="form-padding">
      {% csrf_token %}
      {{star_form.as_p}}
      <input type="submit" value="Add Star" class="btn">
    </form>
  </div>
</div>

<script>
  const specEl = document.getElementById('id_spectral_type');
  M.FormSelect.init(specEl);
  
  const descripEl = document.getElementById('id_description');
  M.FormSelect.init(descripEl);
</script>

{% endblock %}